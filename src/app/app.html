<!-- Premium Loading Screen Overlay -->
<div
  class="fixed inset-0 bg-[var(--bg-main)] flex items-center justify-center z-[1000] transition-all duration-1000 ease-in-out pointer-events-none opacity-0"
  [class.opacity-100]="isLoading()" [class.pointer-events-auto]="isLoading()">

  <!-- Decorative background elements for loader -->
  <div class="absolute inset-0 overflow-hidden">
    <div
      class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[500px] h-[500px] bg-[var(--accent)] opacity-10 blur-[120px] rounded-full animate-pulse">
    </div>
  </div>

  <div class="relative text-center z-10">
    <div class="relative inline-block mb-10">
      <!-- Outer soft glow -->
      <div class="absolute -inset-8 bg-[var(--accent)] opacity-20 blur-3xl animate-pulse"></div>

      <!-- Revolving border ring -->
      <div
        class="absolute -inset-5 border border-[var(--accent)] opacity-30 rounded-full animate-[spin_4s_linear_infinite]">
      </div>

      <!-- Second revolving ring with dash -->
      <div
        class="absolute -inset-5 border-2 border-t-[var(--accent)] border-transparent rounded-full animate-[spin_2s_linear_infinite]">
      </div>

      <!-- Main Branded Icon Container -->
      <div
        class="relative w-28 h-28 rounded-[2rem] bg-gradient-to-br from-[var(--bg-elevated)] to-[var(--bg-surface)] border border-[var(--border-accent)] flex items-center justify-center shadow-[0_20px_50px_rgba(0,0,0,0.15)] overflow-hidden group">
        <!-- Floating abstract background inside icon box -->
        <div class="absolute inset-0 opacity-10 bg-[var(--accent)] mix-blend-overlay animate-pulse"></div>

        <!-- The 'Nice' Icon: Tech Stack Branded -->
        <div class="relative flex flex-col items-center">
          <i class="fas fa-terminal text-4xl text-[var(--accent)] animate-bounce mb-1"></i>
          <div class="w-8 h-1 bg-[var(--accent)] opacity-50 rounded-full"></div>
        </div>
      </div>

      <!-- Floating particles effect (simulated with CSS) -->
      <div class="absolute -top-4 -right-4 w-4 h-4 bg-[var(--accent)] rounded-full opacity-40 blur-sm animate-ping">
      </div>
      <div class="absolute -bottom-2 -left-2 w-3 h-3 bg-[var(--accent)] rounded-full opacity-30 blur-sm animate-ping"
        style="animation-delay: 1s"></div>
    </div>

    <h2 class="text-3xl font-black text-[var(--text)] tracking-widest mb-2 uppercase">
      Eslam<span class="text-[var(--accent)]">Ghanem</span>
    </h2>
    <div class="flex items-center justify-center gap-2">
      <div class="h-[2px] w-8 bg-[var(--accent)] opacity-50"></div>
      <p class="text-[var(--text-muted)] font-medium tracking-tight">Crafting Digital Excellence</p>
      <div class="h-[2px] w-8 bg-[var(--accent)] opacity-50"></div>
    </div>

    <!-- Minimal progress line -->
    <div
      class="mt-8 w-48 h-1 bg-[var(--bg-surface)] rounded-full mx-auto overflow-hidden border border-[var(--border)]">
      <div class="h-full bg-[var(--accent)] w-full -translate-x-full animate-shimmer"></div>
    </div>
  </div>
</div>

<!-- Portfolio Application Content -->
<!-- We keep it always present for SSR/SEO and just hide it visually if needed, 
     but usually we want the loader to just overlay it. -->
<div [class.opacity-0]="isLoading()" class="transition-opacity duration-500">
  <app-navbar></app-navbar>
  <app-hero></app-hero>
  <main>
    <app-about></app-about>
    <app-skills></app-skills>
    <app-projects></app-projects>
    <app-contact></app-contact>
  </main>
  <app-footer></app-footer>

  <!-- Scroll to Top Button -->
  <app-scroll-to-top></app-scroll-to-top>

  <router-outlet />
</div>